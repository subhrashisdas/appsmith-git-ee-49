export default {
	provider_dispositions_original: [
		{
			"id": 1,
			"description": "Call Note"
		},
		{
			"id": 2,
			"description": "Enrollment Question"
		},
		{
			"id": 3,
			"description": "Manual Reimbursement Inquiry - Patient"
		},
		{
			"id": 4,
			"description": "Manual Reimbursement Inquiry - Provider"
		},
		{
			"id": 5,
			"description": "Other"
		},
		{
			"id": 6,
			"description": "Provider Calling to Obtain Portal Login Credentials"
		},
		{
			"id": 7,
			"description": "Patient/Caregiver Called to Report AE/PC"
		},
		{
			"id": 8,
			"description": "Patient/Caregiver Calling for Processing Information"
		},
		{
			"id": 9,
			"description": "Patient/Caregiver Calling to Enroll"
		},
		{
			"id": 10,
			"description": "Patient/Caregiver Calling to Provide Additional Enrollment Information"
		},
		{
			"id": 11,
			"description": "Pharmacy Calling for Processing Information"
		},
		{
			"id": 12,
			"description": "Processing Inquiry - Override Requested"
		},
		{
			"id": 13,
			"description": "Program Benefit Question - Inquiring on Remaining Balance"
		},
		{
			"id": 14,
			"description": "Program Terms and Conditions Inquiry"
		},
		{
			"id": 15,
			"description": "Provider Calling for Debit Information"
		},
		{
			"id": 16,
			"description": "Provider Calling for Debit Processing Issues"
		},
		{
			"id": 17,
			"description": "Provider Calling for Portal Login Credentials"
		},
		{
			"id": 18,
			"description": "Send Not Eligible Letter"
		},
		{
			"id": 19,
			"description": "Send Welcome Letter"
		},
		{
			"id": 20,
			"description": "Transfer to Clinical / Nursing Team"
		},
		{
			"id": 21,
			"description": "Transfer to Xolair Case Managers"
		},
		{
			"id": 22,
			"description": "Transfer to PDMI Pharmacy Processing"
		},
		{
			"id": 23,
			"description": "Provider Calling to Link Patient"
		},
		{
			"id": 24,
			"description": "Provider Calling for Processing Information, Rather Than Just DC Info"
		},
		{
			"id": 25,
			"description": "Escalation"
		},
		{
			"id": 26,
			"description": "EOB Rejection Reason"
		},
		{
			"id": 27,
			"description": "Pharmacy Calling for Debit Information"
		},
		{
			"id": 28,
			"description": "Pharmacy Calling for Debit Processing Issues"
		}
	],
	patient_dispositions_original: [
		{
			"id": 1,
			"description": "Call Note"
		},
		{
			"id": 2,
			"description": "Enrollment Question"
		},
		{
			"id": 3,
			"description": "Manual Reimbursement Inquiry - Patient"
		},
		{
			"id": 4,
			"description": "Manual Reimbursement Inquiry - Provider"
		},
		{
			"id": 5,
			"description": "Other"
		},
		{
			"id": 6,
			"description": "Patient Calling to Obtain Portal Login Credentials"
		},
		{
			"id": 7,
			"description": "Patient/Caregiver Called to Report AE/PC"
		},
		{
			"id": 8,
			"description": "Patient/Caregiver Calling for Processing Information"
		},
		{
			"id": 9,
			"description": "Patient/Caregiver Calling to Enroll"
		},
		{
			"id": 10,
			"description": "Patient/Caregiver Calling to Provide Additional Enrollment Information"
		},
		{
			"id": 11,
			"description": "Pharmacy Calling for Processing Information"
		},
		{
			"id": 12,
			"description": "Processing Inquiry - Override Requested"
		},
		{
			"id": 13,
			"description": "Program Benefit Question - Inquiring on Remaining Balance"
		},
		{
			"id": 14,
			"description": "Program Terms and Conditions Inquiry"
		},
		{
			"id": 15,
			"description": "Provider Calling for Debit Information"
		},
		{
			"id": 16,
			"description": "Provider Calling for Debit Processing Issues"
		},
		{
			"id": 17,
			"description": "Provider Calling for Portal Login Credentials"
		},
		{
			"id": 18,
			"description": "Send Not Eligible Letter"
		},
		{
			"id": 19,
			"description": "Send Welcome Letter"
		},
		{
			"id": 20,
			"description": "Transfer to Clinical / Nursing Team"
		},
		{
			"id": 21,
			"description": "Transfer to Hemlibra Case Managers"
		},
		{
			"id": 22,
			"description": "Transfer to PDMI Pharmacy Processing"
		},
		{
			"id": 23,
			"description": "Provider Calling to Link Patient"
		},
		{
			"id": 24,
			"description": "Provider Calling for Processing Information, Rather Than Just DC Info"
		},
		{
			"id": 25,
			"description": "Escalation"
		},
		{
			"id": 26,
			"description": "EOB Rejection Reason"
		},
		{
			"id": 27,
			"description": "Pharmacy Calling for Debit Information"
		},
		{
			"id": 28,
			"description": "Pharmacy Calling for Debit Processing Issues"
		}
	],
	disposition_buckets: {
		"Patient": 
		[{
			"name": "Call Note",
			"code": "Call Note"
		},
		 {
			 "name": "Program Terms and Conditions Inquiry",
			 "code": "Program Terms and Conditions Inquiry"
		 },
		 {
			 "name": "Manual Reimbursement Inquiry - Patient",
			 "code": "Manual Reimbursement Inquiry - Patient"
		 },
		 {
			 "name": "Escalation",
			 "code": "Escalation"
		 },
		 {
			 "name": "Escalation Resolved",
			 "code": "Escalation Resolved"
		 },
		 {
			 "name": "EOB Rejection Reason",
			 "code": "EOB Rejection Reason"
		 },
		 {
			 "name": "Patient/Caregiver Calling to Enroll",
			 "code": "Patient/Caregiver Calling to Enroll"
		 },
		 {
			 "name": "Patient/Caregiver Calling for Processing Information",
			 "code": "Patient/Caregiver Calling for Processing Information"
		 },
		 {
			 "name": "Patient/Caregiver to Provide Additional Enrollment Information",
			 "code": "Patient/Caregiver to Provide Additional Enrollment Information"
		 },
		 {
			 "name": "Patient Calling to Obtain Portal Login Credentials",
			 "code": "Patient Calling to Obtain Portal Login Credentials"
		 },
		 {
			 "name": "Patient/Caregiver Calling to Report AE/PC",
			 "code": "Patient/Caregiver Calling to Report AE/PC"
		 },
		 {
			 "name": "Transfer to GNE Patient Foundation/Access Solutions",
			 "code": "Transfer to GNE Patient Foundation/Access Solutions"
		 },
		 {
			 "name": "Transfer to Clinical/Nursing Team",
			 "code": "Transfer to Clinical/Nursing Team"
		 },
		 {
			 "name": "Program Benefit Question - Inquiring on Remaining Balance",
			 "code": "Program Benefit Question - Inquiring on Remaining Balance"
		 },
		 {
			 "name": "Maximizer Patient Calling Due to Benefit Cap",
			 "code": "Maximizer Patient Calling Due to Benefit Cap"
		 },
		 {
			 "name": "Send Not Eligible Letter",
			 "code": "Send Not Eligible Letter"
		 },
		 {
			 "name": "Send Welcome Letter",
			 "code": "Send Welcome Letter"
		 },
		 {
			 "name": "Other",
			 "code": "Other"
		 },],
		"Provider": 
		[{
			"name": "Call Note",
			"code": "Call Note"
		},
		 {
			 "name": "Program Terms and Conditions Inquiry",
			 "code": "Program Terms and Conditions Inquiry"
		 },
		 {
			 "name": "Manual Reimbursement Inquiry - Provider",
			 "code": "Manual Reimbursement Inquiry - Provider"
		 },
		 {
			 "name": "Escalation",
			 "code": "Escalation"
		 },
		 {
			 "name": "Escalation Resolved",
			 "code": "Escalation Resolved"
		 },
		 {
			 "name": "EOB Rejection Reason",
			 "code": "EOB Rejection Reason"
		 },
		 {
			 "name": "Transfer to GNE Patient Foundation/Access Solutions",
			 "code": "Transfer to GNE Patient Foundation/Access Solutions"
		 },
		 {
			 "name": "Transfer to Clinical/Nursing Team",
			 "code": "Transfer to Clinical/Nursing Team"
		 },
		 {
			 "name": "Program Benefit Question - Inquiring on Remaining Balance",
			 "code": "Program Benefit Question - Inquiring on Remaining Balance"
		 },
		 {
			 "name": "Provider Calling to Link Patient",
			 "code": "Provider Calling to Link Patient"
		 },
		 {
			 "name": "Provider Calling for Processing Information",
			 "code": "Provider Calling for Processing Information"
		 },
		 {
			 "name": "Provider Calling for Debit Information",
			 "code": "Provider Calling for Debit Information"
		 },
		 {
			 "name": "Provider Calling for Debit Processing Issues",
			 "code": "Provider Calling for Debit Processing Issues"
		 },
		 {
			 "name": "Provider Calling for Portal Login Credentials",
			 "code": "Provider Calling for Portal Login Credentials"
		 },
		 {
			 "name": "Provider Calling for Portal Login Issues",
			 "code": "Provider Calling for Portal Login Issues"
		 },
		 {
			 "name": "Provider Calling for Claim Status",
			 "code": "Provider Calling for Claim Status"
		 },
		 {
			 "name": "Other",
			 "code": "Other"
		 },],
		"Pharmacy": 
		[{
			"name": "Call Note",
			"code": "Call Note"
		},
		 {
			 "name": "Program Terms and Conditions Inquiry",
			 "code": "Program Terms and Conditions Inquiry"
		 },
		 {
			 "name": "Manual Reimbursement Inquiry - Pharmacy",
			 "code": "Manual Reimbursement Inquiry - Pharmacy"
		 },
		 {
			 "name": "Escalation",
			 "code": "Escalation"
		 },
		 {
			 "name": "Escalation Resolved",
			 "code": "Escalation Resolved"
		 },
		 {
			 "name": "EOB Rejection Reason",
			 "code": "EOB Rejection Reason"
		 },
		 {
			 "name": "Transfer to GNE Patient Foundation/Access Solutions",
			 "code": "Transfer to GNE Patient Foundation/Access Solutions"
		 },
		 {
			 "name": "Transfer to Clinical/Nursing Team",
			 "code": "Transfer to Clinical/Nursing Team"
		 },
		 {
			 "name": "Program Benefit Question - Inquiring on Remaining Balance",
			 "code": "Program Benefit Question - Inquiring on Remaining Balance"
		 },
		 {
			 "name": "Pharmacy Calling for Processing Information",
			 "code": "Pharmacy Calling for Processing Information"
		 },
		 {
			 "name": "Pharmacy Calling for Debit Information",
			 "code": "Pharmacy Calling for Debit Information"
		 },
		 {
			 "name": "Pharmacy Calling for Debit Processing Issues",
			 "code": "Pharmacy Calling for Debit Processing Issues"
		 },
		 {
			 "name": "Processing Inquiry - Override Requested",
			 "code": "Processing Inquiry - Override Requested"
		 },
		 {
			 "name": "Transfer to PDMI Pharmacy Processing",
			 "code": "Transfer to PDMI Pharmacy Processing"
		 },
		 {
			 "name": "Maximizer Program Calling for Copay Card Inquiries",
			 "code": "Maximizer Program Calling for Copay Card Inquiries"
		 },
		 {
			 "name": "Other",
			 "code": "Other"
		 },]
	},
	provider_dispositions: [
		{
			"name": "Provider Call Note",
			"code": "Provider Call Note"
		},
		{
			"name": "Provider Calling to Link Patient",
			"code": "Provider Calling to Link Patient"
		},
		{
			"name": "Provider Calling for Processing Information",
			"code": "Provider Calling for Processing Information"
		},
		{
			"name": "Provider Calling for Debit Information",
			"code": "Provider Calling for Debit Information"
		},
		{
			"name": "Provider Calling for Debit Processing Issues",
			"code": "Provider Calling for Debit Processing Issues"
		},
		{
			"name": "Provider Calling for Portal Login Credentials",
			"code": "Provider Calling for Portal Login Credentials"
		},
		{
			"name": "Provider Calling for Portal Login Issues",
			"code": "Provider Calling for Portal Login Issues"
		},
		{
			"name": "Provider Calling for Claim Status",
			"code": "Provider Calling for Claim Status"
		},
		{
			"name": "Other",
			"code": "Other"
		},
	],
	// get_dispositions: async () => {
	// if (this.cached_dispositions_list.length === 0) {
	// const dispositions = await all_dispositions.run();
	// if (!dispositions) return [];
	// // let dispositions_dict = {};
	// let dispositions_list = [];
	// for (let i=0; i < dispositions.length; i++) {
	// const disposition = dispositions[i];
	// // dispositions_dict[i.toString()] = disposition.description;
	// dispositions_list.push({"label": disposition.description, "value": disposition.description});
	// }
	// 
	// this.cached_dispositions_list = dispositions_list; 
	// // console.log(this.cached_dispositions_list);
	// }
	// return this.cached_dispositions_list;
	// },
	add: async (user_name, patient_id,  disposition_bucket, disposition, notes, created) => {
		if (!disposition) {
			showAlert("Disposition Cannot Be Blank")
			return;
		}

		if (!patient_id) {
			showAlert("Please Make Sure Patient is Selected")
			return;
		}

		try {
			await add_patient_note.run(
				{ user_name: user_name,
				 patient_id: patient_id,
				 disposition_bucket: disposition_bucket,
				 disposition: disposition,
				 notes: notes,
				 created: created
				});
			get_patient_notes.run({patient_id: patient_id});
			showAlert("Notes Successfully Added");
		} catch(e) {
		  showAlert("Notes not Added");
			console.log("see errror ", e.message)
			showAlert(e);			
		}
	},
	add_bps_note: async (user_name, patient_id, disposition, notes, created) => {
		if (!disposition) {
			showAlert("Disposition Cannot Be Blank")
			return;
		}

		if (!patient_id) {
			showAlert("Please Make Sure Patient is Selected")
			return;
		}

		try {
			await add_bps_note.run(
				{ user_name: user_name,
				 patient_id: patient_id,
				 disposition: disposition,
				 notes: notes,
				 created: created
				});
			get_bps_notes.run({patient_id: patient_id});
			showAlert("Notes Successfully Added");
		} catch(e) {
			showAlert("Notes note Added");
			console.log("see e", e.message)
			showAlert(e);			
		}
	},
	add_provider_note: async (user_name, provider_id, provider_npi, disposition, notes, created) => {
		if (!disposition) {
			showAlert("Disposition Cannot Be Blank")
			return;
		}

		if (!provider_id ) {
			showAlert("Please Make Sure Patient is Selected")
			return;
		}

		try {
			await add_provider_note.run(
				{ user_name: user_name,
				 provider_id: provider_id,
				 provider_npi: provider_npi,
				 disposition: disposition,
				 notes: notes,
				 created: created
				});
			get_provider_notes.run({provider_id: provider_id});
			showAlert("Notes Successfully Added");
		} catch(e) {
			showAlert(e);			
		}
	},	
	update: async (notes_id, user_name, patient_id, disposition_bucket, disposition, notes, created) => {
		 showAlert("test here ",disposition, patient_id,notes_id )
		if (!disposition) {
			showAlert("Disposition Cannot Be Blank")
			return;
		}

		if (!patient_id) {
			showAlert("Please Make Sure Provider is Selected")
			return;
		}

		if (!notes_id) {
			showAlert("Please Select Note To Update")
			return;
		}		

		try {
			await update_patient_note.run(
				{ notes_id: notes_id,
				 user_name: user_name,
				 patient_id: patient_id,
				 disposition_bucket: disposition_bucket,
				 disposition: disposition,
				 notes: notes,
				 created: created
				});


			get_patient_notes.run({patient_id: patient_id});
			showAlert("Notes Successfully Updated");	

		} catch(e) {
			showAlert("Update Failed " + e.message);			
		}
	},
	update_bps_note: async (notes_id, user_name, patient_id, disposition, notes, created) => {
		if (!disposition) {
			showAlert("Disposition Cannot Be Blank")
			return;
		}

		if (!patient_id) {
			showAlert("Please Make Sure Provider is Selected")
			return;
		}

		if (!notes_id) {
			showAlert("Please Select Note To Update")
			return;
		}		

		notes_id = parseInt(notes_id.toString())
		showAlert(notes_id.toString())
		storeValue("disposition", disposition)
		storeValue("notes", notes)
		storeValue("created", created)
		storeValue("patient_id", patient_id)
		storeValue("user_name", appsmith.user.username)
		storeValue("notes_id", notes_id)

		try {
			await update_bps_note.run(
				{ notes_id: notes_id,
				 user_name: user_name,
				 patient_id: patient_id,
				 disposition: disposition,
				 notes: notes,
				 created: created
				});


			get_bps_notes.run({patient_id: patient_id});
			showAlert("Notes Successfully Updated");	

		} catch(e) {
			showAlert("Update Failed " + e.message);			
		}
	},	
	update_provider_note: async (notes_id, user_name, provider_id, provider_npi, disposition, notes, created) => {
		if (!disposition) {
			showAlert("Disposition Cannot Be Blank")
			return;
		}

		if (!provider_id) {
			showAlert("Please Make Sure Provider is Selected")
			return;
		}

		if (!notes_id) {
			showAlert("Please Select Note To Update")
			return;
		}		

		try {
			await update_provider_note.run(
				{ notes_id: notes_id,
				 user_name: user_name,
				 provider_id: provider_id,
				 provider_npi: provider_npi,
				 disposition: disposition,
				 notes: notes,
				 created: created
				});


			get_provider_notes.run({provider_id: provider_id});
			showAlert("Notes Successfully Updated");	

		} catch(e) {
			showAlert("Update Failed " + e.message);			
		}
	},
	fill_form: async (disposition_bucket, disposition, notes) => {
		if (!disposition_bucket) {
			// default to patient bucket if missing (old data only had patient bucket)
			disposition_bucket = 'Patient'
			storeValue("dispositions", this.disposition_buckets[disposition_bucket])

			// option label and value must be the same for the below code to work - put previous disposition into notes if no longer available as selection
			if (patient_disposition_sel.selectedOptionLabel != disposition) {
				patient_notes_input.setValue(disposition + " - " + notes);  // <= this doesn't really work - field in form pulls from table directly
			} else {
				patient_notes_input.setValue(notes);  // <= this doesn't really work - field in form pulls from table directly			
			}

		} else {
			disposition_bucket_sel.setSelectedOption(disposition_bucket)
			patient_disposition_sel.setSelectedOption(disposition)
			patient_notes_input.setValue(notes)  
		}

	},
	fill_form_bps: async (disposition, notes) => {

		if (bps_disposition_sel.selectedOptionLabel != disposition) {
			bps_notes_input.setValue(disposition + " - " + notes);  
			bps_disposition_sel.setSelectedOption("");
		} else {
			bps_notes_input.setValue(notes);  		
			bps_disposition_sel.setSelectedOption(disposition);

		}



	},	
	fill_form_provider: async (disposition, notes) => {
		if (disposition && disposition == 'Call Note') disposition = 'Provider Call Note'
		provider_disposition_sel.setSelectedOption(disposition);
		// option label and value must be the same for the below code to work - put previous disposition into notes if no longer available as selection
		if (provider_disposition_sel.selectedOptionLabel != disposition) {
			provider_notes_input.setValue(disposition + " - " + notes); 
		} else {
			provider_notes_input.setValue(notes); 
		}


	},
	sqlToJsDate: () => {
		const sqlDate = 1693261167223;

		const newDate = Date(1409763303817)// new Date(sYear,sMonth,sDay,sHour,sMinute,sSecond,sMillisecond);
		showAlert(newDate);
		return newDate;
	}

}
